<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Doces Família Oliveira - Compre Aqui</title>
<style>
  /* ... (todo seu CSS original permanece inalterado) ... */
  #mensagemCarrinhoVazio {
    text-align: center;
    color: #a33;
    font-weight: bold;
    margin-top: 10px;
    display: none;
  }
</style>
</head>
<body>

<div id="msgAdicionado">Item adicionado ao carrinho!</div>
<audio id="somAdicionado" src="https://www.soundjay.com/buttons/sounds/button-3.mp3" preload="auto"></audio>

<header>
  <img src="logo.png.jpeg" alt="Doces Família Oliveira" class="logo" />
  <h1>Doces de Pote Família Oliveira 🌿</h1>
  <div class="social-buttons">
    <a href="https://wa.me/5519997848752" target="_blank"><img src="whatsapp_icon.png" alt="WhatsApp Loja"></a>
    <a href="https://www.instagram.com/oliveira__doces.gourmet" target="_blank"><img src="instagram_icon.png" alt="Instagram"></a>
  </div>
</header>

<h1>Clique no seu pote desejado e adicione ao carrinho ❤️</h1>
<div class="products" id="products"></div>

<div id="cartContainer">
  <div id="cartHeader">
    <img src="cart_icon.png.PNG" alt="Carrinho" />
    <h2>Seu Carrinho</h2>
  </div>
  <div id="cartItems"></div>
  <div id="mensagemCarrinhoVazio">Você ainda não adicionou nenhum item ao seu carrinho 😢</div>
  <div id="cartTotal">Total: R$ 0.00</div>

  <form id="customerForm">
    <h2>Dados para entrega</h2>
    <input type="text" id="nome" placeholder="Nome completo" required />
    <input type="tel" id="telefone" placeholder="WhatsApp (ex: 5511999999999)" required pattern="[0-9]{10,15}" />
    <textarea id="endereco" placeholder="Endereço de entrega" required></textarea>
    <button type="submit">Finalizar e Gerar Link de Pagamento</button>
  </form>
  <div id="paymentLink"></div>
</div>

<!-- Botão flutuante do carrinho -->
<button id="botaoCarrinho" onclick="toggleCarrinho()" aria-label="Abrir Carrinho">
  🛒
</button>

<script>
// ...(todo seu script original até a função atualizarCarrinho)
function atualizarCarrinho() {
  const msgVazio = document.getElementById('mensagemCarrinhoVazio');
  if (carrinho.length === 0) {
    cartItemsDiv.innerHTML = '';
    msgVazio.style.display = 'block';
    cartTotalDiv.textContent = 'Total: R$ 0.00';
    customerForm.style.display = 'none';
    return;
  } else {
    msgVazio.style.display = 'none';
  }
  cartItemsDiv.innerHTML = '';
  let total = 0;
  carrinho.forEach((item, idx) => {
    const itemTotal = item.preco * item.quantidade;
    total += itemTotal;
    const div = document.createElement('div');
    div.className = 'cart-item';
    div.innerHTML = `
      <span>${item.quantidade}x ${item.nome} - R$ ${itemTotal.toFixed(2)}</span>
      <button onclick="removerItem(${idx})" class="remove">X</button>
      <button onclick="alterarQuantidade(${idx}, -1)">-</button>
      <button onclick="alterarQuantidade(${idx}, 1)">+</button>
    `;
    cartItemsDiv.appendChild(div);
  });
  cartTotalDiv.textContent = `Total: R$ ${total.toFixed(2)}`;
  customerForm.style.display = 'block';
}
// ...(restante do seu script permanece igual)
</script>
</body>
</html>
